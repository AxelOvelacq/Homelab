# {{ ansible_managed }}

[DEFAULT]
ignoreip = 127.0.0.1 {{ ansible_env['SSH_CLIENT'].split() | first }}
findtime = 3600
bantime = 600

[traefik-auth]
enabled = true
logpath = {{ settings.storage }}/docker/traefik/traefik.log
port = http,https
banaction = docker-action
action = sendmail[name=traefik-auth]
maxretry = 10

[traefik-botsearch]
enabled = true
logpath = {{ settings.storage }}/docker/traefik/traefik.log
maxretry = 10
port = http,https
banaction = iptables-multiport
action = sendmail[name=traefik-botsearch]

[traefik-badbots]
enabled = true
filter = apache-badbots
logpath = {{ settings.storage }}/docker/traefik/traefik.log
maxretry = 10
port = http,https
banaction = iptables-multiport
action = sendmail[name=traefik-badbots]

[apache-log4j]
enabled  = true
filter   = apache-log4j
action = iptables-multiport
         sendmail[name=apache-log4j]
logpath  = {{ settings.storage }}/docker/traefik/traefik.log
bantime  = 3d
maxretry = 1